(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{397:function(t,e,r){var content=r(398);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(5).default)("08d4b84c",content,!0,{sourceMap:!1})},398:function(t,e,r){(t.exports=r(4)(!1)).push([t.i,".v-form>.container{padding:16px}.v-form>.container>.layout>.flex{padding:8px}.v-form>.container>.layout:only-child{margin:-8px}.v-form>.container>.layout:not(:only-child){margin:auto -8px}",""])},399:function(t,e,r){"use strict";r.d(e,"e",function(){return m}),r.d(e,"c",function(){return v}),r.d(e,"d",function(){return h}),r.d(e,"b",function(){return x}),r.d(e,"f",function(){return w}),r.d(e,"a",function(){return y});var n=/^[\u4E00-\u9FA5A-Za-z0-9_]+$/,o=/^[a-zA-Z]\w{5,17}$/,l=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/,c=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,d=/^[A-Z_]+$/,f=/^[a-z-]+$/;function m(t){return n.test(t)}function v(t){return o.test(t)}function h(t){return l.test(t)}function x(t){return c.test(t)}function w(t){return d.test(t)}function y(t){return f.test(t)}},402:function(t,e,r){"use strict";function n(t){return{url:"/api/v1/role",method:"get",data:t}}function o(t){return{url:"/api/v1/role/page",method:"get",data:t}}function l(t){return{url:"/api/v1/role",method:"post",data:t}}function c(t){return{url:"/api/v1/role",method:"put",data:t}}function d(t){return{url:"/api/v1/role/"+t,method:"delete"}}function f(t){return{url:"/api/v1/role/batch",method:"delete",data:t}}r.d(e,"d",function(){return n}),r.d(e,"e",function(){return o}),r.d(e,"a",function(){return l}),r.d(e,"f",function(){return c}),r.d(e,"b",function(){return d}),r.d(e,"c",function(){return f})},404:function(t,e,r){"use strict";r(146),r(22),r(18),r(215),r(28),r(33),r(397);var n=r(38);e.a={name:"v-form",mixins:[Object(n.b)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",function(e){t.$set(t.errorBag,input._uid,e)},{immediate:!0})},r={_uid:input._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",function(n){n&&(t.errorBag.hasOwnProperty(input._uid)||(r.valid=e(input)))}):r.valid=e(input),r},validate:function(){return!this.inputs.filter(function(input){return!input.validate(!0)}).length},reset:function(){for(var t=this,i=this.inputs.length;i--;)this.inputs[i].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,i=this.inputs.length;i--;)this.inputs[i].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(input){var t=this.watchInput(input);this.inputs.push(input),this.watchers.push(t)},unregister:function(input){var t=this.inputs.find(function(i){return i._uid===input._uid});if(t){var e=this.watchers.find(function(i){return i._uid===t._uid});e.valid&&e.valid(),e.shouldValidate&&e.shouldValidate(),this.watchers=this.watchers.filter(function(i){return i._uid!==t._uid}),this.inputs=this.inputs.filter(function(i){return i._uid!==t._uid}),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},405:function(t,e,r){"use strict";function n(t){return{url:"/api/v1/user/page",method:"GET",data:t}}function o(t){return{url:"/api/v1/user",method:"POST",data:t}}function l(t){return{url:"/api/v1/user",method:"PUT",data:t}}function c(t){return{url:"/api/v1/user/disable/batch",method:"PUT",data:t}}function d(t){return{url:"/api/v1/user/unsealing/batch",method:"PUT",data:t}}function f(t){return{url:"/api/v1/user/disable/"+t,method:"PUT"}}function m(t){return{url:"/api/v1/user/unsealing/"+t,method:"PUT"}}function v(t){return{url:"/api/v1/qiniu/upload",method:"post",data:t}}function h(t){return{url:"/api/v1/qiniu/upload/multiple",method:"post",data:t}}r.d(e,"e",function(){return n}),r.d(e,"a",function(){return o}),r.d(e,"d",function(){return l}),r.d(e,"c",function(){return c}),r.d(e,"g",function(){return d}),r.d(e,"b",function(){return f}),r.d(e,"f",function(){return m}),r.d(e,"h",function(){return v}),r.d(e,"i",function(){return h})},458:function(t,e,r){var content=r(539);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(5).default)("7e2c39a5",content,!0,{sourceMap:!1})},538:function(t,e,r){"use strict";var n=r(458);r.n(n).a},539:function(t,e,r){(t.exports=r(4)(!1)).push([t.i,".avator[data-v-12c6371a]{margin-top:20px}",""])},565:function(t,e,r){"use strict";r.r(e);r(18),r(23),r(46);var n=r(13),o=r(405);var l=r(402),c=r(399),d={name:"Add",layout:"admin",data:function(){return{form:{username:"",password:"",name:"",avatar:"https://pan.zealsay.com/20190317010254129000000.jpg",phoneNumber:"",email:"",province:"",city:"",area:"",adrress:"",introduction:"",role:""},valid:!1,clickable:!0,avatar:{size:128},roles:[],province:[],city:[],area:[],provinceLoading:!1,cityLoading:!1,areaLoading:!1,files:[],loading:!1,usernameRules:[function(t){return!!t||"用户名不能为空!"},function(t){return Object(c.e)(t)||"必须是中文、英文、数字包括下划线"}],passwordRules:[function(t){return!!t||"密码不能为空!"},function(t){return Object(c.c)(t)||"必须以字母开头，长度在6~18之间，只能包含字母、数字和下划线"}],phoneRules:[function(t){return!!t||"手机号不能为空!"},function(t){return Object(c.d)(t)||"不是合法的手机号"}],emailRules:[function(t){return!t||Object(c.b)(t)||"不是合法的邮箱"}]}},asyncData:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(e){var r,n,o,c,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,e.query,n=e.error,t.next=3,r.$axios.$request({url:"/api/v1/dict/region/province",method:"get"});case 3:if(o=t.sent,c=[],"200"!==o.code){t.next=9;break}c=o.data.map(function(t){return{value:t.code,text:t.name}}),t.next=10;break;case 9:return t.abrupt("return",n({statusCode:o.code,message:o.message}));case 10:return t.next=12,r.$axios.$request(Object(l.d)());case 12:if(d=t.sent,f=[],"200"!==d.code){t.next=18;break}f=d.data.map(function(t){return{value:t.value,text:t.name}}),t.next=19;break;case 18:return t.abrupt("return",n({statusCode:d.code,message:d.message}));case 19:return t.abrupt("return",{province:c,roles:f});case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),methods:{changeProvince:function(){var t=this;this.cityLoading=!0;var e={};e.code=this.form.province,this.$axios.$request(function(t){return{url:"/api/v1/dict/region/city",method:"get",params:t}}(e)).then(function(e){"200"===e.code?t.city=e.data.map(function(t){return{value:t.code,text:t.name}}):t.$swal({text:"拉取省市区信息失败!",type:"error",toast:!0,position:"top",showConfirmButton:!1,timer:3e3}),t.cityLoading=!1})},changeCity:function(){var t=this;this.areaLoading=!0;var e={};e.code=this.form.city,this.$axios.$request(function(t){return{url:"/api/v1/dict/region/area",method:"get",params:t}}(e)).then(function(e){"200"===e.code?t.area=e.data.map(function(t){return{value:t.code,text:t.name}}):t.$swal({text:"拉取省市区信息失败!",type:"error",toast:!0,position:"top",showConfirmButton:!1,timer:3e3}),t.areaLoading=!1})},submit:function(){this.loading=!0,this.$refs.form.validate()?this.save():this.loading=!1},save:function(){var t=this;this.$axios.$request(Object(o.a)(this.form)).then(function(e){t.loading=!1,"200"===e.code&&e.data?t.$swal({title:"添加成功!",text:"您已经成功添加了一名用户",type:"success"}):t.$swal({title:"添加失败!",text:e.message,type:"error"})}).catch(function(e){t.loading=!1,t.$swal({text:e.message,type:"error",toast:!0,position:"top",showConfirmButton:!1,timer:3e3})}).finally(function(){t.loading=!1})},request:function(form,t){return this.$axios.$request(Object(o.h)(form),t)},success:function(t){this.form.avatar=t.data},failed:function(t){this.$swal({text:t.message,type:"error",toast:!0,position:"top",showConfirmButton:!1,timer:3e3})}}},f=(r(538),r(11)),m=r(16),v=r.n(m),h=r(140),x=r(396),w=r(130),y=r(131),$=r(404),_=r(132),C=r(556),k=r(391),V=r(201),component=Object(f.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[r("v-layout",{attrs:{"justify-center":"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md10:""}},[r("material-card",{staticClass:"v-card-profile"},[r("v-card-text",{staticClass:"text-xs-center"},[r("v-avatar-uploader",{attrs:{url:t.form.avatar,request:t.request,clickable:t.clickable,avatar:t.avatar,"max-size":"5120"},on:{success:t.success,failed:t.failed}}),t._v(" "),r("h6",{staticClass:"category avator text-gray ffont-weight-light mb-3"},[t._v("\n            点击上传用户头像\n          ")]),t._v(" "),r("h5",{staticClass:"card-title font-weight-light"},[t._v("\n            Some of us get dipped in flat, some in satin, some in gloss....\n            But every once in a while you find someone who's iridescent, and\n            when you do, nothing will ever compare.\n          ")]),t._v(" "),r("p",{staticClass:"card-description font-weight-light"},[t._v("\n            有人住高楼，有人在深沟，有人光万丈，有人一身锈，世人万千种，浮云莫去求，斯人若彩虹，遇上方知有。\n          ")])],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md10:""}},[r("material-card",{attrs:{color:"primary",title:"用户详细信息",text:"完善用户信息后，点击提交"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""}},[r("v-container",{attrs:{"py-0":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{rules:t.usernameRules,hint:"用户名不能包含空格和特殊字符",label:"用户名*",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{rules:t.passwordRules,hint:"密码必须以字母开头，长度在6~18之间，只能包含字母、数字和下划线",label:"初始密码*",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{label:"真实姓名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{attrs:{items:t.roles,"item-text":"text","item-value":"value",label:"角色*",required:""},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{rules:t.phoneRules,label:"手机号*"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{rules:t.emailRules,label:"Email"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{attrs:{items:t.province,"item-text":"text","item-value":"value","item-avatar":"avatar",label:"省",loading:t.provinceLoading},on:{change:t.changeProvince},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{attrs:{items:t.city,"item-text":"text","item-value":"value","item-avatar":"avatar",label:"市",loading:t.cityLoading},on:{change:t.changeCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-select",{attrs:{items:t.area,"item-text":"text","item-value":"value","item-avatar":"avatar",label:"区",loading:t.areaLoading},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md12:""}},[r("v-text-field",{staticClass:"purple-input",attrs:{label:"详细住址"},model:{value:t.form.adrress,callback:function(e){t.$set(t.form,"adrress",e)},expression:"form.adrress"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{staticClass:"purple-input",attrs:{label:"简介",value:"一个喜欢安静的程序员."}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"","text-xs-center":""}},[r("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{round:"",color:"primary",loading:t.loading},on:{click:function(e){return t.submit()}}},[t._v("\n                  添加保存\n                ")])],1)],1)],1)],1)],1)],1)],1)],1)},[],!1,null,"12c6371a",null);e.default=component.exports;v()(component,{VBtn:h.a,VCardText:x.b,VContainer:w.a,VFlex:y.a,VForm:$.a,VLayout:_.a,VSelect:C.a,VTextField:k.a,VTextarea:V.a})}}]);